<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ø§Ù„ØªØ®ØµØµØ§Øª</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">

<style>
 * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Cairo', sans-serif; }

 body {
   background: #f1f1f1;
   padding: 15px;
 }

 h1 {
   text-align: center;
   color: #00695C;
   margin-bottom: 20px;
   font-size: 28px;
   font-weight: 800;
 }

 /* Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© */
 .top-links {
   text-align: center;
   margin-bottom: 15px;
 }
 .top-links a {
   display: inline-block;
   padding: 12px 18px;
   background: #004D40;
   color: white;
   text-decoration: none;
   font-size: 17px;
   border-radius: 10px;
   transition: .25s;
 }
 .top-links a:hover {
   background: #00695C;
 }

 /* Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø« */
 .search-box {
   max-width: 400px;
   margin: 0 auto 20px auto;
 }

 .search-box input {
   width: 100%;
   padding: 12px;
   border-radius: 10px;
   border: 2px solid #00796B;
   color: #333;
   font-size: 16px;
 }

 /* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªØ®ØµØµ */
 .grid {
   display: grid;
   grid-template-columns: 1fr;
   gap: 18px;
 }

 @media (min-width: 600px) {
   .grid {
     grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
   }
 }

 .card {
   background: white;
   border-radius: 14px;
   box-shadow: 0 3px 12px #00000020;
   padding: 18px;
   transition: .25s;
   text-align: center;
   cursor: pointer;
 }

 .card:hover {
   transform: translateY(-6px);
   box-shadow: 0 10px 25px #00000030;
 }

 .card h3 {
   font-size: 22px;
   color: #004D40;
   font-weight: 700;
 }
</style>
</head>

<body>

<h1>Ø§Ù„ØªØ®ØµØµØ§Øª</h1>

<div class="top-links">
  <a href="index.html">ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
</div>

<div class="search-box">
  <input type="text" id="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ØªØ®ØµØµ...">
</div>

<div id="specList" class="grid"></div>

<script type="module">

import { db } from "./firebase-config.js";
import { collection, getDocs }
from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

let specialties = [];

async function loadSpecialties() {

  const snap = await getDocs(collection(db, "doctors"));

  snap.forEach(doc => {
    const data = doc.data();
    if (data.specialty) {
      specialties.push(data.specialty.trim());
    }
  });

  specialties = [...new Set(specialties)];

  renderSpecialties(specialties);
}

function renderSpecialties(list) {
  const box = document.getElementById("specList");
  box.innerHTML = "";

  list.forEach(s => {
    box.innerHTML += `
      <div class="card" onclick="location.href='specialty.html?name=${encodeURIComponent(s)}'">
        <h3>${s}</h3>
      </div>
    `;
  });
}

document.getElementById("search").addEventListener("input", e => {
  const txt = e.target.value.trim();
  const filtered = specialties.filter(s => s.includes(txt));
  renderSpecialties(filtered);
});

loadSpecialties();

</script>

</body>
</html>