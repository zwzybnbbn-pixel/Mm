<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù‚Ù‡Ù‰</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Cairo';}

body{
  background:#f3e5ab;
  padding:15px;
}

.back-btn{
  display:inline-block;
  background:#6d4c41;
  color:#fff;
  padding:10px 16px;
  border-radius:10px;
  text-decoration:none;
  margin-bottom:15px;
  font-size:16px;
}

.card{
  width:100%;
  background:white;
  padding:20px;
  border-radius:15px;
  box-shadow:0 3px 12px #00000022;
}

h2{
  font-size:22px;
  color:#6d4c41;
  text-align:center;
  margin-bottom:15px;
  font-weight:800;
}

.cafe-img{
  width:160px;
  height:160px;
  border-radius:12px;
  object-fit:cover;
  display:block;
  margin:10px auto;
  border:3px solid #8d6e63;
}

.info{
  background:#f7ecda;
  padding:12px;
  border-left:5px solid #6d4c41;
  border-radius:12px;
  margin-bottom:12px;
}

.label{
  font-size:15px;
  font-weight:700;
  color:#6d4c41;
}

.value{
  font-size:16px;
  color:#333;
  margin-top:4px;
}

.map-btn{
  display:block;
  width:100%;
  padding:14px;
  margin-top:15px;
  background:#8d6e63;
  color:white;
  font-size:17px;
  border-radius:10px;
  text-align:center;
  text-decoration:none;
  font-weight:700;
}
.map-btn:hover{
  background:#6d4c41;
}
</style>
</head>

<body>

<a href="cafes.html" class="back-btn">â¬… Ø§Ù„Ø¹ÙˆØ¯Ø©</a>

<img id="cafeImg" class="cafe-img" alt="cafe">

<div class="card">
  <h2 id="cName">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</h2>

  <div class="info">
    <div class="label">ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</div>
    <div class="value" id="cAddress"></div>
  </div>

  <a id="mapBtn" class="map-btn" href="#" target="_blank">ğŸ“ Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø©</a>
</div>

<script type="module">
import { db } from "./firebase-config.js";
import {
  doc, getDoc
} from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

const id = new URLSearchParams(location.search).get("id");

/* ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‚Ù‡Ù‰ */
async function loadCafe(){
  if (!id) return;

  const ref = doc(db, "tourism_cafes", id);
  const snap = await getDoc(ref);

  if(!snap.exists()) return;

  const c = snap.data();

  document.getElementById("cName").textContent = c.name || "Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…";
  document.getElementById("cAddress").textContent = c.address || "ØºÙŠØ± Ù…ØªÙˆÙØ±";
  document.getElementById("cafeImg").src = c.image || "https://i.postimg.cc/TPZpYH5f/noimage.png";
  document.getElementById("mapBtn").href = c.map_link || "#";
}

loadCafe();
</script>

</body>
</html>